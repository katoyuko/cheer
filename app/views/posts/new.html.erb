<div class="container">
  <div class="row">
    <div class="col-md-6 col-md-offset-3 post-main">
      <h2>New post</h2>
      <p class="small-title">新規投稿</p>

        <% flash.each do |message_type, message| %>
          <div class="alert alert-<%= message_type %>">
            <%= message %>
          </div>
        <% end %>

      <div class="form">
        <%= form_with model: @post, url: posts_path, local: true do |f| %>

          <div class="form-group">
            <label for="control-label">写真</label>
            <%= f.attachment_field :image, class: "btn btn-default" %>
             <!-- 非同期で画像を表示させるなら、写真とカテゴリ、つぶやきは横並びにする -->
          </div>

          <div class="form-group">
            <label for="control-label">カテゴリ</label>
            <%= select_tag :post_category_id, options_from_collection_for_select(PostCategory.all, :id, :category, params[:post_category_id]), {prompt: "選択", class: "js-searchable form-control"} %>
          </div>

          <div class="form-group">
            <label for="control-label">頑張りつぶやき</label>
            <%= f.text_area :post_content, rows:10, maxlength:140, class: "form-control" %>
          </div>

          <div class="row">
            <div class="col-md-4 col-md-offset-4">
              <%= f.submit "投稿", class: "btn col-md-2 btn-block btn-ellipse" %>
            </div>
          </div>

        <% end %>
      </div>

    </div>
  </div>
</div>